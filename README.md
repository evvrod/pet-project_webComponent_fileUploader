# File Upload Web Component

## Описание

Это веб-компонент для загрузки текстовых файлов (.txt, .json, .csv) на сервер. Компонент включает форму загрузки, проверку формата и размера файла, а также отправку файла на сервер с обработкой ответа.

## Стек технологий
- JavaScript (ES6+)
- TypeScript
- Веб-компоненты (Custom Elements, Shadow DOM, Custom Event)
- Vite 
- API
- Vitest

## Структура компонента

1. **HTML форма**:
   - Поле для ввода имени.
   - Поле для выбора файла.
   - Кнопка "Загрузить на сервер", которая активируется только после ввода имени и выбора файла.

2. **Проверка файла**:
   - Разрешены только файлы с расширениями `.txt`, `.json`, `.csv`.
   - Максимальный размер файла — 1024 байта (1 КБ).
   - При несоответствии условиям выводится сообщение об ошибке, и кнопка блокируется.

3. **Загрузка на сервер**:
   - При нажатии кнопки файл и имя отправляются на сервер по API.
   - Во время загрузки отображается анимация, и пользовательский интерфейс блокируется для предотвращения повторной отправки.

4. **Обработка ответа**:
   - При успешной загрузке выводится сообщение с подтверждением и полученными данными.
   - При ошибке выводится сообщение с деталями ошибки.

## Интерфейс приложения
![Интерфейс](image.png)
![Видеообзор](Video.gif)

## Как запустить проект

1. Клонировать репозиторий:

```bash
git clone <ссылка на репозиторий>
```

2. Перейти в директорию проекта:

```bash
cd <папка проекта>
```

3. Установить зависимости:

```bash
npm install
```
4. Запустить проект:

```bash
npm run dev
```

5. Откройте браузер и перейдите по адресу: http://localhost:3000

## Использование компонента
Для использования компонента в вашем проекте:

1. Скопируйте компонет к себе в проект
Например, /your-project /components /file-upload-component

2. Импортируйте компонент:
```js
import './file-upload-component.js';
```
3. Добавьте компонент в ваш HTML:
```js
<file-upload-component></file-upload-component>
```

## Дальнейшие улучшения
1. Настраиваемый список разрешённых файлов

Добавить атрибут allowed-formats, чтобы разработчики могли указывать, какие форматы разрешены:

```html
<file-upload-component allowed-formats="txt,json,csv"></file-upload-component>
```
Парсить значение этого атрибута и динамически изменять список допустимых файлов.

2. Изменяемый максимальный размер файла

Добавить атрибут max-size, позволяющий задавать максимальный размер файла в байтах:

```html
<file-upload-component max-size="2048"></file-upload-component>
```

Проверять этот параметр перед загрузкой и выводить соответствующее сообщение пользователю.

3. Задание URL для загрузки через атрибут

Сделать API-эндпоинт настраиваемым с помощью атрибута upload-url:

```html
<file-upload-component upload-url="https://api.example.com/upload"></file-upload-component>
```
Позволить изменять URL в рантайме, если потребуется динамическая смена сервера.

4. Расширенное тестирование
Увеличить покрытие тестами

5. Публикация компонента в npm

Опубликовать компонент в npm для удобства встраивания в другие проекты

```bash
npm install file-upload-component
```
Позволить использовать компонент в проектах через импорт:

```javascript
import 'file-upload-component';
```